# [ES6] hoisting

javascript에서 호이스팅(hoisting)이란, 인터프리터가 변수와 함수의 메모리 공간을 선언 전에 미리 할당하는 것을 의미한다.  
즉, 코드가 실행하기 전 변수선언/함수선언 이 해당 스코프의 최상단으로 끌어 올려진 것 같은 현상을 말한다.  
코드 실행 전 이미 변수선언/함수선언 이 저장되어 있기 때문에 선언문보다 참조/호출이 먼저 나와도 오류 없이 동작한다.

var로 선언한 변수의 경우 호이스팅 시 undefined로 변수를 초기화한다.  
반면 let과 const로 선언한 변수의 경우 호이스팅 시 변수를 초기화하지 않는다.

```js
catName("감자");

function catName(name) {
  console.log("제 강아지의 이름은 " + name + "입니다");
}

// 결과: "제 강아지의 이름은 감자입니다"
```

JavaScript는 함수의 코드를 실행하기 전에 함수 선언에 대한 메모리부터 할당한다.  
위 코드는 함수 호출이 함수 자체보다 앞서 존재하지만, 함수 선언에 대한 메모리 할당이 먼저 일어나(호이스팅이 작동하여), 정상적으로 동작하는 코드라고 할 수 있다.

호이스팅은 다른 자료형과 변수에도 잘 작동한다. 변수를 선언하기 전에 먼저 초기화하고 사용할 수 있는 것이다.

## 호이스팅의 대상

JavaScript는 초기화를 제외한 선언만 호이스팅한다.  
변수를 먼저 사용하고 그 후에 선언 및 초기화가 나타나면, 사용하는 시점의 변수는 기본 초기화 상태(var 선언 시 undefined, 그 외에는 초기화하지 않음)이다.

```js
console.log(num); // 호이스팅한 var 선언으로 인해 undefined 출력
var num; // 선언
num = 6; // 초기화
```

호이스팅한 var 선언으로 인해 undefined 출력

### 예제 1

호이스팅 대상 : y

```js
x = 1; // x 초기화
console.log(x + " " + y); // '1 undefined'
var y = 2; // y를 선언하고 초기화
```

`x=1`는 x 초기화 이므로 명령문에 var가 없으므로 호이스팅이 발생하지 않는다.  
반면 `var y = 2`의 경우 y 를 선언하고 초기화 함을 나타낸다.  
여기서 javascript는 '선언'만 호이스팅하므로, 윗줄의 y는 undefined 이다.

### 예제 2

호이스팅 대상 : 없음

```js
a = "크랜"; // a 초기화
b = "베리"; // b 초기화

console.log(a + "" + b); // '크랜베리'
```

호이스팅은 없지만, 변수 초기화는 변수 선언까지 병행하므로 해당 변수를 사용할 수 있다.
